:root {
    --max-w: 900px;
    --side-pad: clamp(16px, 4vw, 40px);
    --accent: #4b5;
    --ink: #1b1b1b;
    --ink-faint: #606060;
    --bg: #fafaf8;
    --box: #f0efe9;
  
    /* Callout colors */
    --def-color: #4b8;    /* Definition */
    --thm-color: #58a;    /* Theorem */
    --lem-color: #a85;    /* Lemma */
    --prop-color: #b45;   /* Proposition */
    --cor-color: #c55;    /* Corollary */
  }
  
  body[data-theme="dark"] {
    --accent: #89d3a6;
    --ink: #eaeaea;
    --ink-faint: #b6b6b6;
    --bg: #111213;
    --box: #1b1c1d;
  
    --def-color: #6c8;
    --thm-color: #7ad;
    --lem-color: #da8;
    --prop-color: #e77;
    --cor-color: #f88;
  }
  
  html, body {
    margin: 0;
    padding: 0;
    background: var(--bg);
    color: var(--ink);
    font-family: "EB Garamond", Garamond, serif;
    line-height: 1.55;
    font-size: 18px;
  }
  
  .site-header {
    max-width: var(--max-w);
    margin: 0 auto;
    padding: 1.25rem var(--side-pad);
    display: flex;
    flex-direction: column;
    gap: .5rem;
  }
  
  #themeToggle {
    align-self: flex-start;
    background: var(--box);
    border: 1px solid var(--ink-faint);
    border-radius: 6px;
    padding: .3rem .6rem;
    cursor: pointer;
    font-size: 1rem;
  }
  
  /* Callout boxes */
  .callout {
    border-left: 3px solid var(--accent);
    background: var(--box);
    padding: .85rem 1rem;
    border-radius: 6px;
    margin: 1rem 0;
  }
  .callout .label { font-variant: small-caps; font-weight: 600; }
  
  /* Special flavors */
  .callout.definition { border-left-color: var(--def-color); }
  .callout.theorem { border-left-color: var(--thm-color); }
  .callout.lemma { border-left-color: var(--lem-color); }
  .callout.proposition { border-left-color: var(--prop-color); }
  .callout.corollary { border-left-color: var(--cor-color); }
  
  /* Collapsibles */
  .collapsible {
    border: 1px solid color-mix(in oklab, var(--ink) 18%, transparent);
    border-radius: 8px;
    background: color-mix(in oklab, var(--box) 80%, transparent);
    margin: 1rem 0;
    overflow: clip;
  }
  .collapsible summary {
    cursor: pointer;
    list-style: none;
    padding: .75rem 1rem;
    display: flex; align-items: center; gap: .5rem;
    font-weight: 600;
  }
  .collapsible summary::before {
    content: "â–¸";
    transition: transform .25s ease;
    color: var(--accent);
  }
  .collapsible[open] > summary::before { transform: rotate(90deg); }
  .collapsible__content {
    block-size: 0;
    overflow: clip;
    transition: block-size .28s ease;
    padding-inline: 1rem;
  }
  .collapsible[open] .collapsible__content {
    padding-block-end: .75rem;
  }
  .collapsible .collapsible { margin-left: 1rem; }
  